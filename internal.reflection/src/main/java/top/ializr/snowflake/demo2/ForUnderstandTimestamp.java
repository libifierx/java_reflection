package top.ializr.snowflake.demo2;

public class ForUnderstandTimestamp {
	public static void main(String[] args) {
		
		System.out.println("LongMax:"+Long.MAX_VALUE+",binary="+leftPad(Long.toBinaryString(Long.MAX_VALUE),64,'0'));
		//LongMax:9223372036854775807,binary=0111111111111111111111111111111111111111111111111111111111111111
		for (long time = 0; time <= 20; time++) {
			long shiftResult = (time << 22);//当前值* 2的22次幂
			String binaryStr = Long.toBinaryString(shiftResult);
			System.out.println("time:" +leftPad(time+"",3,'0') +" =" + (leftPad(shiftResult+"",10,'0')) + " , binary="  + leftPad(binaryStr,64,'0'));
		}
		
		//2的41次幂=2199023255552,所以2199023255551是41个1
		for (long time = (long)(Math.pow(2, 41)+2) -50; time <= (long)(Math.pow(2, 41)-1+2); time++) {
			long shiftResult = (time << 22);//当前值* 2的22次幂
			String binaryStr = Long.toBinaryString(shiftResult);
			System.out.println("time:" +leftPad(time+"",3,'0') +" =" + (leftPad(shiftResult+"",10,'0')) + " , binary="  + leftPad(binaryStr,64,'0'));
		}
		/**
		LongMax:9223372036854775807,binary=0111111111111111111111111111111111111111111111111111111111111111
		time:000 =0000000000 , binary=0,00000000000000000000000000000000000000000,0000000000000000000000
		time:001 =0004194304 , binary=0,00000000000000000000000000000000000000001,0000000000000000000000
		time:002 =0008388608 , binary=0,00000000000000000000000000000000000000010,0000000000000000000000
		time:003 =0012582912 , binary=0,00000000000000000000000000000000000000011,0000000000000000000000
		time:004 =0016777216 , binary=0,00000000000000000000000000000000000000100,0000000000000000000000
		time:005 =0020971520 , binary=0,00000000000000000000000000000000000000101,0000000000000000000000
		time:006 =0025165824 , binary=0,00000000000000000000000000000000000000110,0000000000000000000000
		time:007 =0029360128 , binary=0,00000000000000000000000000000000000000111,0000000000000000000000
		time:008 =0033554432 , binary=0,00000000000000000000000000000000000001000,0000000000000000000000
		time:009 =0037748736 , binary=0,00000000000000000000000000000000000001001,0000000000000000000000
		time:010 =0041943040 , binary=0,00000000000000000000000000000000000001010,0000000000000000000000
		time:011 =0046137344 , binary=0,00000000000000000000000000000000000001011,0000000000000000000000
		time:012 =0050331648 , binary=0,00000000000000000000000000000000000001100,0000000000000000000000
		time:013 =0054525952 , binary=0,00000000000000000000000000000000000001101,0000000000000000000000
		time:014 =0058720256 , binary=0,00000000000000000000000000000000000001110,0000000000000000000000
		time:015 =0062914560 , binary=0,00000000000000000000000000000000000001111,0000000000000000000000
		time:016 =0067108864 , binary=0,00000000000000000000000000000000000010000,0000000000000000000000
		time:017 =0071303168 , binary=0,00000000000000000000000000000000000010001,0000000000000000000000
		time:018 =0075497472 , binary=0,00000000000000000000000000000000000010010,0000000000000000000000
		time:019 =0079691776 , binary=0,00000000000000000000000000000000000010011,0000000000000000000000
		time:020 =0083886080 , binary=0,00000000000000000000000000000000000010100,0000000000000000000000
		
		
		time:2199023255504 =9223372036653449216 , binary=0'11111111111111111111111111111111111010000,0000000000000000000000
		time:2199023255505 =9223372036657643520 , binary=0'11111111111111111111111111111111111010001,0000000000000000000000
		time:2199023255506 =9223372036661837824 , binary=0'11111111111111111111111111111111111010010,0000000000000000000000
		time:2199023255507 =9223372036666032128 , binary=0'11111111111111111111111111111111111010011,0000000000000000000000
		time:2199023255508 =9223372036670226432 , binary=0'11111111111111111111111111111111111010100,0000000000000000000000
		time:2199023255509 =9223372036674420736 , binary=0'11111111111111111111111111111111111010101,0000000000000000000000
		time:2199023255510 =9223372036678615040 , binary=0'11111111111111111111111111111111111010110,0000000000000000000000
		time:2199023255511 =9223372036682809344 , binary=0'11111111111111111111111111111111111010111,0000000000000000000000
		time:2199023255512 =9223372036687003648 , binary=0'11111111111111111111111111111111111011000,0000000000000000000000
		time:2199023255513 =9223372036691197952 , binary=0'11111111111111111111111111111111111011001,0000000000000000000000
		time:2199023255514 =9223372036695392256 , binary=0'11111111111111111111111111111111111011010,0000000000000000000000
		time:2199023255515 =9223372036699586560 , binary=0'11111111111111111111111111111111111011011,0000000000000000000000
		time:2199023255516 =9223372036703780864 , binary=0'11111111111111111111111111111111111011100,0000000000000000000000
		time:2199023255517 =9223372036707975168 , binary=0'11111111111111111111111111111111111011101,0000000000000000000000
		time:2199023255518 =9223372036712169472 , binary=0'11111111111111111111111111111111111011110,0000000000000000000000
		time:2199023255519 =9223372036716363776 , binary=0'11111111111111111111111111111111111011111,0000000000000000000000
		time:2199023255520 =9223372036720558080 , binary=0'11111111111111111111111111111111111100000,0000000000000000000000
		time:2199023255521 =9223372036724752384 , binary=0'11111111111111111111111111111111111100001,0000000000000000000000
		time:2199023255522 =9223372036728946688 , binary=0'11111111111111111111111111111111111100010,0000000000000000000000
		time:2199023255523 =9223372036733140992 , binary=0'11111111111111111111111111111111111100011,0000000000000000000000
		time:2199023255524 =9223372036737335296 , binary=0'11111111111111111111111111111111111100100,0000000000000000000000
		time:2199023255525 =9223372036741529600 , binary=0'11111111111111111111111111111111111100101,0000000000000000000000
		time:2199023255526 =9223372036745723904 , binary=0'11111111111111111111111111111111111100110,0000000000000000000000
		time:2199023255527 =9223372036749918208 , binary=0'11111111111111111111111111111111111100111,0000000000000000000000
		time:2199023255528 =9223372036754112512 , binary=0'11111111111111111111111111111111111101000,0000000000000000000000
		time:2199023255529 =9223372036758306816 , binary=0'11111111111111111111111111111111111101001,0000000000000000000000
		time:2199023255530 =9223372036762501120 , binary=0'11111111111111111111111111111111111101010,0000000000000000000000
		time:2199023255531 =9223372036766695424 , binary=0'11111111111111111111111111111111111101011,0000000000000000000000
		time:2199023255532 =9223372036770889728 , binary=0'11111111111111111111111111111111111101100,0000000000000000000000
		time:2199023255533 =9223372036775084032 , binary=0'11111111111111111111111111111111111101101,0000000000000000000000
		time:2199023255534 =9223372036779278336 , binary=0'11111111111111111111111111111111111101110,0000000000000000000000
		time:2199023255535 =9223372036783472640 , binary=0'11111111111111111111111111111111111101111,0000000000000000000000
		time:2199023255536 =9223372036787666944 , binary=0'11111111111111111111111111111111111110000,0000000000000000000000
		time:2199023255537 =9223372036791861248 , binary=0'11111111111111111111111111111111111110001,0000000000000000000000
		time:2199023255538 =9223372036796055552 , binary=0'11111111111111111111111111111111111110010,0000000000000000000000
		time:2199023255539 =9223372036800249856 , binary=0'11111111111111111111111111111111111110011,0000000000000000000000
		time:2199023255540 =9223372036804444160 , binary=0'11111111111111111111111111111111111110100,0000000000000000000000
		time:2199023255541 =9223372036808638464 , binary=0'11111111111111111111111111111111111110101,0000000000000000000000
		time:2199023255542 =9223372036812832768 , binary=0'11111111111111111111111111111111111110110,0000000000000000000000
		time:2199023255543 =9223372036817027072 , binary=0'11111111111111111111111111111111111110111,0000000000000000000000
		time:2199023255544 =9223372036821221376 , binary=0'11111111111111111111111111111111111111000,0000000000000000000000
		time:2199023255545 =9223372036825415680 , binary=0'11111111111111111111111111111111111111001,0000000000000000000000
		time:2199023255546 =9223372036829609984 , binary=0'11111111111111111111111111111111111111010,0000000000000000000000
		time:2199023255547 =9223372036833804288 , binary=0'11111111111111111111111111111111111111011,0000000000000000000000
		time:2199023255548 =9223372036837998592 , binary=0'11111111111111111111111111111111111111100,0000000000000000000000
		time:2199023255549 =9223372036842192896 , binary=0'11111111111111111111111111111111111111101,0000000000000000000000
		time:2199023255550 =9223372036846387200 , binary=0'11111111111111111111111111111111111111110,0000000000000000000000
		time:2199023255551 =9223372036850581504 , binary=0'11111111111111111111111111111111111111111,0000000000000000000000
		time:2199023255552 =-9223372036854775808, binary=1'00000000000000000000000000000000000000000,0000000000000000000000
		time:2199023255553 =-9223372036850581504, binary=1'00000000000000000000000000000000000000001,0000000000000000000000
		
		 */
	}
	
	public static String leftPad(String ori,int expectedLen,char pad) {
		int packLen = expectedLen - ori.length();
		if(packLen > 0) {
			StringBuilder sb = new StringBuilder();
			while(packLen > 0) {
				sb.append(pad);
				packLen--;
			}
			sb.append(ori);
			return sb.toString();
		}
		return ori;
	}
}